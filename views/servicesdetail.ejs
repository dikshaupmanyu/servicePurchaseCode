<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>TradeTips</title>
    <link rel="icon" href="images/favicon.png" type="image/png" sizes="16x16">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/fontawesome1-all.min.css">
    <link rel="stylesheet" type="text/css" href="css/icomoon/style.css">
    <link rel="stylesheet" type="text/css" href="css/style1.css">
    <link rel="stylesheet" type="text/css" href="css/responsive1.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.magicsearch.css">
  </head>
  <body>
<style type="text/css">
  .successmsg
{ color: #fff;
   padding-left: 350px;
}

/* .input-group{
  width:180%
} */

/*.app_content{
  right:12%;

}*/

.edit_profile_form{
  /* position:relative;
  left:30%; */
width:100%
}

/*.vertical {
            border-left: 1px solid white;
            height: 555px;
            position:absolute;
            left: 64%;
            top:30%
        }

        hr.solid {
  border-top: 1px solid white;
}*/
</style>
</style>

    <!-- Body Flyers Start -->
    <div class="body_flyer body_flyer1">
      <img src="images/body-flyer.png" alt="images">
    </div>
    <div class="body_flyer body_flyer2">
      <img src="images/body-flyer.png" alt="images">
    </div>
    <!-- Body Flyers End -->

   

    <!-- Header Start -->
    <div class="body_wrapper">
      <div class="app_header">
        <div class="app_header_logo">
          <button class="btn mob_menu_btn side_toggle"><i class="fas fa-bars"></i></button>
          <a href="#">
            <img src="images/logo-icon.png" alt="images">
            <h3 style="color: white;">TradeTips</h3>
          </a>
        </div>
        <div class="app_header_content">
          <div class="dsbrd_container">
            <div class="successmsg"></div>
            <div class="app_header_content_left">
              <!-- <h3>Free trial expire In 6 days <a href="#">Upgrade</a></h3> -->
              <div class="header_search">
             
              </div>
            </div>
           
          </div>
        </div>
      </div>

  <div class="app_main">
        
           <div class="app_content">
            <div class="dsbrd_container">
              <div class="dashboard_wrapper row">
                <div class="dashboard_wrapper_left col" style="max-width: 60%;">
                    <div class="prfl_tb_cntnt_bx">
                        <h2>Service Detail</h2>
                      </div>
                      <div class="post_new_tips_wrapper">
                        <div class="edit_profile_form">
                          <div class="input-group">
                            <label>Type of Service</label>
                            <span style="color: white;" id="typeService"></span>
                          </div>
                         
                          <div class="input-group">
                            <label>Name of Service</label>
                             <span style="color: white;" id="nameService"></span>
                          </div>
                          <div class="input-group">
                            <label>Short descritpion</label>
                             <span style="color: white;" id="shortDescriptionService"></span>
                            
                          </div>
                          <div class="input-group">
                            <label>Long Description</label>
                            <span style="color: white;" id="longDescriptionService"></span>
                           
                          </div>
                          <div class="input-group">
                            <label>Mentor Name</label>
                            <span style="color: white" id="mentorNameService"></span>
                          </div>
                          <div class="input-group">
                            <label>Price</label>
                            <span style="color: white;" id="priceService"></span>
                           
                          </div>
                        </div>
                      </div>
                      <br>
                      <div class="prfl_tb_cntnt_bx">
                                <p style="color: white;">Sign Up for This Service Today</p>
                              </div>
                      <div class="post_new_tips_wrapper">
                              
                        <div class="edit_profile_form">
                         
                           
                            <form method="POST" class="flex flex-col w-1/3">
                               
                              <div class="input-group">
                                <input type="text" name="" placeholder="Choose a Username" class="form-control" id="uname" required="required">
    
                              </div>
                              <div class="input-group">
                                <input type="text" name="" placeholder="Enter a Email" class="form-control" id="email" required="required">
    
                              </div>
                              <div class="input-group">
                                <input type="password" name="" placeholder="Create a Password" class="form-control" id="pswrd" required="required">
    
                              </div>
                              <div class="input-group">
                                <input type="password" name="" placeholder="Confirm Password" class="form-control" id="cpswrd" required="required">
    
                              </div>
                              <div class="input-group">
                                <label class="hide-sm">&nbsp;</label>
                                <!-- <button class="btn cmn_btn btn_primary" id="formRegister" type="button">Submit</button> -->
                                <button class="btn cmn_btn btn_primary" id="formRegister" type="button">Submit</button>
                              </div>
                             </form>
                         </div>

                      </div>
                </div>
               <!--  <div class = "vertical"></div> -->
                 <div class="dashboard_wrapper_right col" style="max-width: 40%; padding-top:45px;">
                   <div class="post_new_tips_wrapper">
                  <div class="edit_profile_form">  
                  <div class="input-group">
                      <img id="serviceImage" class="img-responsive" style="height: 300px;width: 400px;">
                    </div>
                  </div>
                </div>
                    <br>
                     <div class="edit_profile_form">
    
                           
                           <p style="color: white;">Already have a TradeTips Account</p>
                          </div>
    
                           <br>
                                <form id="formoid" method="post" class="flex flex-col w-1/3" onsubmit="return false">
                                         <div class="post_new_tips_wrapper">
                                       
                                         <div class="edit_profile_form">
                                         <div class="input-group">
                                           <input type="text" id="unames" name="userName"  placeholder="Enter Username or Email" class="form-control">
    
                                         </div>
    
                                         <div class="input-group">
                                           <input type="text" id="pswrds" name="password" placeholder="Enter Password" class="form-control" >
    
                                         </div>
                                         <div class="input-group">
                                           <label class="hide-sm">&nbsp;</label>
                                           <button class="btn cmn_btn btn_primary" type="submit">Submit</button>
                                         </div>
                                       </div>
                                     </div>
                                   </form>
                          

                          <br>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">

const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const serviceIds = urlParams.get('id');
// alert(serviceIds);

$(document).ready(function () {

$("#formoid").submit(function(event){
   // alert(JSON.stringify(event));

  var userName = $('#unames').val();
  var pasWrdd = $('#pswrds').val();

    var formdata = new FormData();

    formdata.append("userName", userName);
    formdata.append("password", pasWrdd);
  

    var requestOptions = {
      method: 'POST',
      body: formdata,
      redirect: 'follow'
    };

    // alert("neww");

    fetch("https://apistest.tradetipsapp.com/api/auth/appSignIn", requestOptions)
      .then(response => response.json())
      .then(result => {

                var datak = JSON.stringify(result);
                // alert(datak);
                var dataResultp = JSON.parse(datak);
                // alert(dataResultp.userName);
                // alert(dataResultp.accessToken);
                if(dataResultp.accessToken){

                  $(".successmsg").html('<span>"Login successfully '+dataResultp.userName+' !!"</span>');
                
                 setTimeout(function(){$(".successmsg").empty()}, 3000);

                  setTimeout(function(){
                   // window.location.reload(1);
                   window.location.href = "/servicesdetailstepOne?id="+serviceIds+"&logindetail="+JSON.stringify(dataResultp); 
                   }, 2000);

                }else{
                  
                  //  $(".successmsg").html('<span>"Your username or password is not correct."</span>');
                   $(".successmsg").html(dataResultp.message);
                
                 setTimeout(function(){$(".successmsg").empty()}, 3000);

                  setTimeout(function(){
                   // window.location.reload(1);
                   window.location.href = "/servicesdetail?id="+serviceIds; 
                   }, 2000);

                }
               

       })
      .catch(error => console.log('error', error));


  });

});

 </script>




                           

              </div>
            
            </div>

          </div>
          <br>
          <hr class="solid">
                      <form class="flex flex-col w-1/3" style="width:60%; position:relative; left:18px; padding-top:50px">
                        <fieldset disabled="disabled">

                          <div class="prfl_tb_cntnt_bx">
                              
                            <p style="color: white;">Card Information</p>
                           </div>
                          <div class="post_new_tips_wrapper" style="background-color: #80808063;">
    
                            
                            <div class="edit_profile_form" >

                             
                              <div class="input-group">
                                <!-- <label>Card Number</label> -->
                                 <input type='text' class="form-control" name="cardName" id="cardName" placeholder=" Full Name" onkeypress="return IsNumeric(event);" ondrop="return false;" onpaste="return false;" required="required" readonly >
                                 <!-- <span id="error" style="color: Red; display: none">* Input digits (0 - 9)</span>   -->
    
                              </div>
                              <div class="input-group">
                                <!-- <label>Card Number</label> -->
                                 <input type='text' class="form-control" name="cardNumber" id="cardNumber" placeholder="Card Number" onkeypress="return IsNumeric(event);" ondrop="return false;" onpaste="return false;" required="required" readonly >
                                 <span id="error" style="color: Red; display: none">* Input digits (0 - 9)</span>  
    
                              </div>
                              <div class="input-groups" style="display:flex">

                                <div class="input-group">
                                 <!--  <label>Expiration Date</label> -->
                                    <!-- <select class="form-control" id="month" name="month" required="required" disabled="true"  style="background-color: #808080d9; border:1px solid #808080d9">
                                      <option>Select Month</option>
                                      <option value="1">January</option>
                                      <option value="2">February </option>
                                      <option value="3">March</option>
                                      <option value="4">April</option>
                                      <option value="5">May</option>
                                      <option value="6">June</option>
                                      <option value="7">July</option>
                                      <option value="8">August</option>
                                      <option value="9">September</option>
                                      <option value="10">October</option>
                                      <option value="11">November</option>
                                      <option value="12">December</option>
                                  </select readonly>
                                   -->
  
                                   <input type="text" class="form-control" name="" id="" placeholder="Ex.  Date   MM/YY">
                                </div>
                                <!-- <div class="input-group">
                        
                                 <select class="form-control" id="year" name="year" required="required" disabled="true" style="background-color: #808080d9; border:1px solid #808080d9" readonly >
                                    <option>Select Year</option>
                                  <% for (i = 2022; i < 2035 ; i++) { %>
                                    <option value="<%= i %>"><%= i %></option>
                                  <% } %>
                                </select>
                                 
                                </div> -->
                                <div class="input-group">
                                 <!--  <label>Cvv Number</label> -->
                                <input type="text" class="form-control" name="cvv" id="cvv" placeholder="CVV  (Sec. Code)" required="required" maxlength="3"  onkeypress="return IsNumerics(event);" ondrop="return false;" onpaste="return false;" readonly>    
                                 <span id="errors" style="color: Red; display: none">* Input digits (0 - 9)</span>
      
      
                                </div>
                              </div>
                              <div class="input-group">
                                <!-- <label>Zip Code</label> -->
                                <input type="text" class="form-control" placeholder="Zip Code" required="required" maxlength="5"  onkeypress="return IsNumericpincode(event);" ondrop="return false;" onpaste="return false;" readonly>
                                 <span id="errorpincode" style="color: Red; display: none">* Input digits (0 - 9)</span>
                               
                              </div>
                             
                              <div class="input-group">
                                <label class="hide-sm">&nbsp;</label>
                                <button class="btn cmn_btn btn_primary" type="button" style="background-color: #147bff80;">Purchase</button>
                              </div>
                            </div>
    
                          </div>
                        </fieldset>
                 </div>

    
<script>
function cc_format(value) {
  var v = value.replace(/\s+/g, '').replace(/[^0-9]/gi, '')
  var matches = v.match(/\d{4,16}/g);
  var match = matches && matches[0] || ''
  var parts = []
  for (i=0, len=match.length; i<len; i+=4) {
    parts.push(match.substring(i, i+4))
  }
  if (parts.length) {
    return parts.join(' ')
  } else {
    return value
  }
}

onload = function() {
  document.getElementById('cardNumber').oninput = function() {
    this.value = cc_format(this.value)
  }
}

var specialKeys = new Array();  
        specialKeys.push(8);  
        function IsNumeric(e) 
        {  
            var keyCode = e.which ? e.which : e.keyCode  
            var ret = ((keyCode >= 48 && keyCode <= 57) || specialKeys.indexOf(keyCode) != -1);  
            document.getElementById("error").style.display = ret ? "none" : "inline";  
            return ret;  
        }  
         function IsNumerics(e) 
        {  
            var keyCode = e.which ? e.which : e.keyCode  
            var ret = ((keyCode >= 48 && keyCode <= 57) || specialKeys.indexOf(keyCode) != -1);  
            document.getElementById("errors").style.display = ret ? "none" : "inline";
            return ret;  
        }  
         function IsNumericpincode(e) 
        {  
            var keyCode = e.which ? e.which : e.keyCode  
            var ret = ((keyCode >= 48 && keyCode <= 57) || specialKeys.indexOf(keyCode) != -1);  
            document.getElementById("errorpincode").style.display = ret ? "none" : "inline";
            return ret;  
        }  
</script>
           
           
      
          </form>

  </div>
  <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
  
      </div>
    <div class="sidebar-overlay"></div>
    </div>
    <!-- Header End -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script type="text/javascript" src="js/jquery-3.5.1.slim.min.js"></script>
    <script type="text/javascript" src="js/popper.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/fontawesome-all.min.js"></script>
    <script type="text/javascript" src="js/slimscroll.min.js"></script>
    <script type="text/javascript" src="js/jquery-3.5.1.min.js"></script>

    <script type="text/javascript" src="js/custom.js"></script>
    

 <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.magicsearch.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
   
<!--     <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
 -->  </body>
</html>
    <input type="text" class="form-control" id="serviceIdDetaildata" value="<%= serviceIdDetail %>" style="display: none;">

  <script type="text/javascript">  
  
  var subsids = "<%= serviceIdDetail %>";
  // alert(subsids);

  var formdata = {serviceSubscriptionPlanId : subsids};
   $.ajax({
        type: 'POST',
        url: 'https://apistest.tradetipsapp.com/api/serviceMentorSubscriptionPlanWeb/getServiceSubscriptionPlanById',
        data: formdata,
        success: function(data) {
           var datak = JSON.stringify(data);
          // alert(datak);
          var dataResultp = JSON.parse(datak); 
          // alert(dataResultp.title);
          let str = dataResultp.stripeProductName;
          str = str.split("_")[0];
          document.getElementById("typeService").innerHTML = dataResultp.serviceTypeMaster.description;
          document.getElementById("nameService").innerHTML = dataResultp.title;
          document.getElementById("shortDescriptionService").innerHTML = dataResultp.descriptionOne;
          document.getElementById("longDescriptionService").innerHTML = dataResultp.descriptionTwo;
          document.getElementById("mentorNameService").innerHTML = str;
          document.getElementById("priceService").innerHTML = parseFloat(dataResultp.price).toFixed(2);
          if(dataResultp.imageDetails == null){
              document.getElementById("serviceImage").src = dataResultp.thumbnailImageUrl;
          }else{
               document.getElementById("serviceImage").src = "https://apistest.tradetipsapp.com" + dataResultp.imageDetails;
          }
        




}
});

  
  </script>


<script type="text/javascript">

  window.history.forward(); 
       function noBack() { 
           window.history.forward(); 
       } 

   window.addEventListener("load", function() 
      {
        var url_string = window.location.href; 
        var urls = new URL(url_string);
       //  alert(url_string);
         var subsids = "<%= serviceIdDetail %>";
        $('#formRegister').on('click', function() {
          //  alert("hii");
           var userName = $('#uname').val();
           var email = $('#email').val();
          //  alert(userName)
           var password = $('#pswrd').val();

           var conformPassword = $('#cpswrd').val();
          //  alert(conformPassword)
           var urls = $('#url').val();
           // alert(urls);
           if(userName == '' || email == '' || password == '' || conformPassword == ''){
            $(".successmsg").html('<span>Please fill all the fields</span>');
                    setTimeout(function(){$(".successmsg").empty()}, 2000);  
           }else{

             if(password === conformPassword){
              //  alert("ok")
               $.ajax({
                 type: 'POST',
                 url: 'https://apistest.tradetipsapp.com/api/appUser/newSignupPayment',
                 data: {
                   type:4,
                   userName: userName,
                  email:email,
                   password: password,            
                   conformPassword: conformPassword,            
                 },
                 dataType:'json',
                 cache:false,
                 success: function(data){
                   var datak = JSON.stringify(data); 
                   var dataResultp = JSON.parse(datak);
                  // alert(JSON.stringify(dataResultp));
                  // alert(dataResultp)
                  // if(dataResultp.status == true){
                  //   $(".successmsg").html(dataResultp.message);
                  //   setTimeout(function(){$(".successmsg").empty()}, 2000);
                  //   setTimeout(function(){$(window.location.reload()).empty()}, 2100);  
                  // }else{
                    // alert('false')
                    if(dataResultp.email){
                      $(".successmsg").html(dataResultp.message);
                     setTimeout(function(){$(".successmsg").empty()}, 3000);

                  setTimeout(function(){
                   // window.location.reload(1);
                   window.location.href = "/servicesdetailstepOne?id="+subsids+"&logindetail="+JSON.stringify(dataResultp); 
                   }, 2000);
                    }
                    else{

                      $(".successmsg").html(dataResultp.message);
                      setTimeout(function(){$(".successmsg").empty()}, 2000); 
                      setTimeout(function(){$(window.location.reload()).empty()}, 2100);   
                    }
                  // }
                  //  var mentor = dataResult.isMentor        
                   // alert(mentor); 
                   // alert(dataResult.accessToken)
                  
                 }  
               });
             }else{
              //  alert('password nd conform password is not matching');
               $(".successmsg").html('<span>Password and Confirm Password is not matching</span>');
             setTimeout(function(){$(".successmsg").empty()}, 2000);
             }
           }
         });

   });


      
</script>

